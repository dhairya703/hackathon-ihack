// src/context/VulnerabilityContext.js
import { createContext, useState, useContext } from "react";

const VulnerabilityContext = createContext();

export function VulnerabilityProvider({ children }) {
  const [exploits, setExploits] = useState([]);

  const updateExploitStatus = (id, isCompleted) => {
    setExploits(prev =>
      prev.map(e => (e.id === id ? { ...e, completed: isCompleted } : e))
    );
  };

  return (
    <VulnerabilityContext.Provider value={{ exploits, setExploits, updateExploitStatus }}>
      {children}
    </VulnerabilityContext.Provider>
  );
}

export function useVulnerabilities() {
  return useContext(VulnerabilityContext);
}
